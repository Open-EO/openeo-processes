{
    "id": "date_replace",
    "summary": "Replaces a part of a date",
    "description": "Replaces a part of a given date string with a new value based on the provided unit, allowing for easy manipulation of dates.",
    "categories": [
        "date & time"
    ],
    "experimental": true,
    "parameters": [
        {
            "name": "date",
            "description": "The date (and optionally time) to manipulate.\n\nIf the given date doesn't include the time, the process assumes that the time component is `00:00:00Z` (i.e. midnight, in UTC). The millisecond part of the time is optional and defaults to `0` if not given.",
            "schema": [
                {
                    "type": "string",
                    "format": "date-time",
                    "subtype": "date-time"
                },
                {
                    "type": "string",
                    "format": "date",
                    "subtype": "date"
                }
            ]
        },
        {
            "name": "value",
            "description": "The period of time in the unit given that is added (positive numbers) or subtracted (negative numbers). The value `0` doesn't have any effect.",
            "schema": {
                "type": "integer"
            }
        },
        {
            "name": "unit",
            "description": "The unit for the value given. The following pre-defined units are available:\n\n- millisecond: Milliseconds\n- second: Seconds - leap seconds are ignored in computations.\n- minute: Minutes\n- hour: Hours\n- day: Days - changes only the the day part of a date\n- week: Weeks (equivalent to 7 days)\n- month: Months\n- year: Years\n\nManipulations with the unit `year`, `month`, `week` or `day` do never change the time. If any of the manipulations result in an invalid date or time, the corresponding part is rounded down to the next valid date or time respectively. For example, adding a month to `2020-01-31` would result in `2020-02-29`.",
            "schema": {
                "type": "string",
                "enum": [
                    "millisecond",
                    "second",
                    "minute",
                    "hour",
                    "day",
                    "week",
                    "month",
                    "year"
                ]
            }
        }
    ],
    "returns": {
        "description": "The manipulated date. If a time component was given in the parameter `date`, the time component is returned with the date.",
        "schema": [
            {
                "type": "string",
                "format": "date-time",
                "subtype": "date-time"
            },
            {
                "type": "string",
                "format": "date",
                "subtype": "date"
            }
        ]
    },
    "examples": [
        {
            "arguments": {
                "date": "2020-02-01T17:22:45Z",
                "value": 6,
                "unit": "month"
            },
            "returns": "2020-06-01T17:22:45Z"
        },
        {
            "arguments": {
                "date": "2021-03-31T00:00:00+02:00",
                "value": 7,
                "unit": "day"
            },
            "returns": "2021-03-07T00:00:00+02:00"
        },
        {
            "arguments": {
                "date": "2018-01-01",
                "value": 2023,
                "unit": "year"
            },
            "returns": "2023-01-01"
        },
        {
            "arguments": {
                "date": "2018-01-01",
                "value": 5,
                "unit": "month"
            },
            "returns": "2017-05-01"
        }
    ]
}