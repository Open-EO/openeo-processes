{
    "id": "anomaly",
    "summary": "Computes anomalies",
    "description": "Computes anomalies based on normals for a specific temporal frequency.",
    "categories": [
        "climatology",
        "cube",
        "math"
    ],
    "parameters": [
        {
            "name": "data",
            "description": "A data cube. The datacube must contain exactly one temporal dimension.",
            "schema": {
                "type": "object",
                "subtype": "raster-cube"
            }
        },
        {
            "name": "normals",
            "description": "A data cube with normals, e.g. daily, monthly or yearly values from ``climatological_normal()``. Must contain exactly one temporal dimension with the labels set to numerical days of year, month of year week of year or years respectively.",
            "schema": {
                "type": "object",
                "subtype": "raster-cube"
            }
        },
        {
            "name": "frequency",
            "description": "The time intervals to aggregate. The following pre-defined frequencies are supported:\r\n\r\n* `hourly`: Hour of the day. Dimension labels: `0` - `23`\r\n* `daily`: Day of the year. Dimension labels: `0` - `365`\r\n* `weekly`: Week of the year. Dimension labels: `1` - `52`\r\n* `monthly`: Month of the year. Dimension labels: `1` - `12`\r\n* `yearly`: Number of the year. Dimension labels are the four-digit year numbers.\r\n* `climatology_period`: The average of the period specified in the `climatology_period`. Dimension label: `climatology_period`.\r\n* `seasons`: Refers to three month periods of the calendar seasons (winter, spring, summer, autumn). Dimension labels: `djf` (December - February), `mam` (March - May), `jja` (June - August), `son` (September - November).\r\n* `tropical_seasons`: Refers to the 6 month periods of the tropical seasons (dry, wet). Dimension labels: `ndjfma` (November - April), `mjjaso` (May - October).",
            "schema": {
                "type": "string",
                "enum": [
                      "hourly",
                      "daily",
                      "weekly",
                      "monthly",
                      "yearly",
                      "climatology_period",
                      "seasons",
                      "tropical_seasons"
                ]
            }
        }
    ],
    "returns": {
        "description": "A data cube. The cardinality, resolution and the number of dimensions are the same as for the original data cube.",
        "schema": {
            "type": "object",
            "subtype": "raster-cube"
        }
    }
}