{
  "id": "aggregate_spatial_window",
  "summary": "Zonal statistics for rectangular windows",
  "description": "Aggregates statistics over the horizontal spatial dimensions (axes `x` and `y`) of the data cube.\n\nThe pixel grid for the axes `x` and `y` is divided into non-overlapping windows with the size specified in the parameters `x_size` and `y_size`. If the number of values for the axes `x` and `y` is not a multiple of the corresponding `x_size` or `y_size` parameter, the behavior specified in `boundary` parameter is applied.\nFor each of these windows, the reducer process computes the result.",
  "categories": [
    "cubes",
    "aggregate & resample"
  ],
  "parameters": [
    {
      "name": "data",
      "description": "A raster data cube.",
      "schema": {
        "type": "object",
        "subtype": "raster-cube"
      }
    },
    {
      "name": "reducer",
      "description": "A reducer to be applied on the list of values, which contain all pixels covered by the window. A reducer is a single process such as ``mean()`` or a set of processes, which computes a single value for a list of values, see the category 'reducer' for such processes.",
      "schema": {
        "type": "object",
        "subtype": "process-graph",
        "parameters": [
          {
            "name": "data",
            "description": "An array with elements of any type.",
            "schema": {
              "type": "array",
              "items": {
                "description": "Any data type."
              }
            }
          },
          {
            "name": "context",
            "description": "Additional data passed by the user.",
            "schema": {
              "description": "Any data type."
            },
            "optional": true,
            "default": null
          }
        ]
      }
    },
    {
      "name": "x_size",
      "description": "Window size along X or Longitude. The number of values used as input to the reducer along X dimension.",
      "schema": {
        "type": "integer",
        "minimum": 1
      },
      "optional": true,
      "default": 1
    },
    {
      "name": "y_size",
      "description": "Window size along Y or Latitude. The number of values used as input to the reducer along Y dimension.",
      "schema": {
        "type": "integer",
        "minimum": 1
      },
      "optional": true,
      "default": 1
    },
    {
      "name": "boundary",
      "description": "Operation to apply if X/Y are not multiple of x_size/y_size. Options are:\n\n- pad (default): pad the datacube with NaNs to fit window dimensions.\n\n- trim: trim the datacube to fit window dimensions.",
      "schema": {
        "type": "string",
        "enum": [
          "pad",
          "trim"
        ]
      },
      "optional": true,
      "default": "pad"
    },
    {
      "name": "context",
      "description": "Additional data to be passed to the reducer.",
      "schema": {
        "description": "Any data type."
      },
      "optional": true,
      "default": null
    }
  ],
  "returns": {
    "description": "A vector data cube with the computed results.\n\nX and Y dimensions will be smaller compared to the input datacube.",
    "schema": {
      "type": "object",
      "subtype": "raster-cube"
    }
  }
}
